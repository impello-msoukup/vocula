---
Title: 'How to work with pages'
Date: '2020-12-14 09:00'
Metadata:
    Description: 'How to work with pages.'
    Author:
        Name: 'Michal Soukup'
        Email: michal.soukup@impello.cz
    Keywords:
        - Vocula
        - Content provider
        - REST API
Taxonomy:
    Category:
        - Page
    Tag:
        - Site page
---
# How to work with pages

Page files are content containers structured into the desired directory tree. These files also contain a page descriptor and text content.

The page description is provided by a YAML formatted part on the beginning of the Markdown page file. The name format of this file consists of the following elements separated by dots:

* `page`, fixed keyword
* `xx`, two characters represent language
* `md`, file extension

For example `page.en.md` represent page descriptor and text content in English language.

The model of page elements inside of these files looks like:

```
---
Title: 'Home page'
Date: '2020-12-14 09:00'
Metadata:
    Description: 'Home page of Vocula app site.'
    Author:
        Name: 'Michal Soukup'
        Email: michal.soukup@example.com
    Keywords:
        - Vocula
        - Content provider
        - REST API
Taxonomy:
    Category:
        - Page
    Tag:
        - Site page
---
# Welcome to Vocula app site
....
```

The page descriptor in YAML formatted block is placed between lines contained `---` mark. The page content is placed under this YAML block.

Both parts, descriptor attributes and page content are provided by following REST API dedicated for pages:

| Method | URI                              | 
|--------|:--------------------------------:|
| GET    | /Sites/`{siteName}`/Pages        |
| GET    | /Sites/`{siteName}`/Pages/Search |

## Request & response

In case of needs to retrieve the details about a specific page, let's make GET call on `/Sites/{siteName}/Pages?path={path}` where
attribute `{siteName}` represent directory name of site and query attribute `path` contains directory path of specific page, for example `/` for main page.

Data will be provided as one **JObject** with formated structure:

```
{
  "path": "/",
  "breadcrumb": [
    {
      "path": "/",
      "title": "Home page"
    }
  ],
  "lang": "en",
  "title": "Home page",
  "date": "2020-12-14T09:00:00",
  "metadata": {
    "description": "Home page of Vocula app site.",
    "author": {
      "name": "Michal Soukup",
      "email": "michal.soukup@example.com"
    },
    "keywords": [
      "Vocula",
      "Content provider",
      "REST API"
    ]
  },
  "taxonomy": {
    "category": [
      "Page"
    ],
    "tag": [
      "Site page"
    ]
  },
  "alternatives": [],
  "body": "<h1>Welcome to Vocula app site</h1>...",
  "children": []
}
```

If different page file for another language will be available, then the `alternatives` attribute will contains list of these alternatives.

There are available another query attributes for make more specific request:

* `Recursion=true|false`, will generate full site structure
* `Format=none|html|text`, specify output format of content
* `Lang=xx`, specify language file

For example: `/Sites/{siteName}/Pages?Path=/&Recursion=true&Format=none`
will generate full site structure without text content. Then the JSON `children` attribute will contain additional subpages recursively included.

In case that output format will be specified, content will be available for parent requested page only.

## Search function

Site content can be searched by calling REST API `/Sites/{siteName}/Pages/Search?keyword={key}` by GET method and the response
will be **JArray** formatted list of search results:

```
[
  {
    "path": "/start/docs/",
    "title": "Documentation",
    "date": "2020-12-14T09:00:00",
    "preview": "REST API guide ...",
    "pageRank": 100
  }, ...
```

Attribute `preview` contain first few words as page content preview. Approximately page rank is generated by search procedure and available as
value of attribute `pageRank`.

Example of use: `/Sites/{siteName}/Pages/Search?keyword=rest` will search keyword `rest` on all sites pages.

The `Lang` query attribute can be used to specify the language files to be searched.

## What's next

Discover [more details](/start/docs/images/) about using images.